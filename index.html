<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Love Story ğŸ’–</title>

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    overflow:hidden;
    color:white;
    text-align:center;
    background:black;
}

canvas{
    position:fixed;
    top:0;
    left:0;
    z-index:-1;
}

.page{
    display:none;
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:90%;
    animation:fade 1.2s ease;
}

@keyframes fade{
    from{opacity:0; transform:translate(-50%,-40%);}
    to{opacity:1; transform:translate(-50%,-50%);}
}

button{
    padding:12px 25px;
    font-size:18px;
    border:none;
    border-radius:30px;
    margin:10px;
    cursor:pointer;
    transition:0.3s;
}

button:hover{ transform:scale(1.1); }

.yes{ background:#ff1744; color:white; }
.no{ background:white; color:#ff1744; position:relative; }

input{
    padding:10px;
    font-size:18px;
    border-radius:20px;
    border:none;
    text-align:center;
}

.heart{
    font-size:80px;
    animation:beat 1s infinite;
}

@keyframes beat{
    0%{transform:scale(1);}
    50%{transform:scale(1.3);}
    100%{transform:scale(1);}
}

.bar{
    width:80%;
    height:20px;
    background:white;
    margin:20px auto;
    border-radius:20px;
    overflow:hidden;
}

.fill{
    height:100%;
    width:0%;
    background:#ff1744;
    border-radius:20px;
    transition:2s;
}

.photo-frame img{
    width:220px;
    height:220px;
    object-fit:cover;
    border-radius:50%;
    border:6px solid #ff1744;
    box-shadow:0 0 30px #ff1744;
}

.slideshow{
    position:absolute;
    width:260px;
    height:260px;
    transition:all 1.5s ease-in-out;
}

.slide{
    position:absolute;
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:20px;
    opacity:0;
    transition:opacity 1.5s ease-in-out, transform 1.5s ease-in-out;
    box-shadow:0 0 30px #ff1744;
}

.slide.active{
    opacity:1;
    transform:scale(1.05);
}

.sparkle{
    position:absolute;
    font-size:20px;
    animation:floatUp linear infinite;
}

@keyframes floatUp{
    0%{ transform:translateY(100vh); opacity:1;}
    100%{ transform:translateY(-10vh); opacity:0;}
}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<div class="page" id="p1">
    <h1>âœ¨ A Magical Surprise âœ¨</h1>
    <p>Something special is waiting for you...</p>
    <button onclick="next(2)">Begin ğŸ’–</button>
</div>

<div class="page" id="p2">
    <h2>Enter Your Name ğŸ’•</h2>
    <input id="nameInput" placeholder="Your name here">
    <br><br>
    <button onclick="saveName()">Continue ğŸ’Œ</button>
</div>

<div class="page" id="p3">
    <h1 id="typing"></h1>
    <div class="photo-frame">
        <img src="photo1.jpg">
    </div>
    <button onclick="next(4)">Next ğŸ’</button>
</div>

<div class="page" id="p4">
    <h2>Our Love Meter ğŸ’“</h2>
    <div class="bar">
        <div class="fill" id="loveBar"></div>
    </div>
    <p>Click anywhere to fill our love â¤ï¸</p>
    <button onclick="next(5)">Continue ğŸ’˜</button>
</div>

<div class="page" id="p5">
    <h1 id="proposal"></h1>
    <div class="heart">ğŸ’–</div>
    <button class="yes" onclick="celebrate()">YES ğŸ’–</button>
    <button class="no" id="noBtn">No ğŸ˜¢</button>
</div>

<div class="page" id="p6">
    <h1>ğŸ’ FOREVER STARTS NOW ğŸ’</h1>
    <h2 id="foreverMsg"></h2>

    <div class="slideshow">
        <img class="slide active" src="photo1.jpg">
        <img class="slide" src="photo2.jpg">
        <img class="slide" src="photo3.jpg">
    </div>
</div>

<script>

let canvas=document.getElementById("bg");
let ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let stars=[];
for(let i=0;i<150;i++){
    stars.push({
        x:Math.random()*canvas.width,
        y:Math.random()*canvas.height,
        size:Math.random()*2,
        speed:Math.random()*0.5
    });
}

function drawStars(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="white";
    stars.forEach(s=>{
        s.y+=s.speed;
        if(s.y>canvas.height){ s.y=0; }
        ctx.beginPath();
        ctx.arc(s.x,s.y,s.size,0,Math.PI*2);
        ctx.fill();
    });
}
setInterval(drawStars,30);

let current=1;
let userName="";
document.getElementById("p1").style.display="block";

function next(num){
    document.getElementById("p"+current).style.display="none";
    document.getElementById("p"+num).style.display="block";
    current=num;
}

/* ğŸ” Only Jagrity Allowed */
function saveName(){
    let name=document.getElementById("nameInput").value.trim();

    if(name === ""){
        alert("Please enter your beautiful name ğŸ’•");
        return;
    }

    if(name.toLowerCase() !== "jagrity"){
        alert("Oops! This surprise is only for Jagrity ğŸ’–");
        return;
    }

    userName="Jagrity";
    next(3);
    typeText(`${userName}, you are my forever and always ğŸ’–`);
}

function typeText(text){
    let i=0;
    let target=document.getElementById("typing");
    target.innerHTML="";
    function typing(){
        if(i<text.length){
            target.innerHTML+=text.charAt(i);
            i++;
            setTimeout(typing,50);
        }else{
            document.getElementById("proposal").innerHTML=
            `${userName}, Will You Be Mine Forever? ğŸ’`;
            document.getElementById("foreverMsg").innerHTML=
            `${userName}, this is just the beginning of our infinity ğŸ’•âœ¨`;
        }
    }
    typing();
}

document.getElementById("p4").addEventListener("click",()=>{
    document.getElementById("loveBar").style.width="100%";
});

let noBtn=document.getElementById("noBtn");
noBtn.addEventListener("mouseover",()=>{
    let x=Math.random()*300-150;
    let y=Math.random()*200-100;
    noBtn.style.transform=`translate(${x}px,${y}px)`;
});

function celebrate(){
    next(6);

    setInterval(()=>{
        let sparkle=document.createElement("div");
        sparkle.className="sparkle";
        sparkle.innerHTML=["ğŸ’–","âœ¨","ğŸŒ¸","ğŸ’˜"][Math.floor(Math.random()*4)];
        sparkle.style.left=Math.random()*100+"vw";
        sparkle.style.animationDuration=(Math.random()*3+3)+"s";
        document.body.appendChild(sparkle);
        setTimeout(()=>{ sparkle.remove(); },6000);
    },300);
}

/* Slideshow Movement */
let slides=document.querySelectorAll(".slide");
let slideshow=document.querySelector(".slideshow");
let index=0;

const positions=[
    {top:"10%", left:"50%"},
    {bottom:"10%", left:"50%"},
    {top:"50%", left:"10%"},
    {top:"50%", right:"10%"}
];

function showSlide(){
    slides.forEach(s=>s.classList.remove("active"));
    index=(index+1)%slides.length;
    slides[index].classList.add("active");

    let pos=positions[Math.floor(Math.random()*positions.length)];

    slideshow.style.top="";
    slideshow.style.bottom="";
    slideshow.style.left="";
    slideshow.style.right="";

    for(let key in pos){
        slideshow.style[key]=pos[key];
    }
}

setInterval(showSlide,3000);

</script>

</body>
</html>
